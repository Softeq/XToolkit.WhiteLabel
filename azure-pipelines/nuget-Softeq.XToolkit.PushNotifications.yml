resources:
- repo: self
trigger:
  - release/*
pr: none

queue:
  name: Hosted macOS
  demands: Xamarin.iOS

variables:
  BuildConfiguration: 'Release'
  ProjectName: 'Softeq.XToolkit.PushNotifications'
steps:
- script: 'msbuild nuget/$(ProjectName).sln -r /p:Configuration="$(BuildConfiguration)" /p:Platform="Any CPU"'
- script: 'nuget pack nuget/$(ProjectName).nuspec'
- task: CopyFiles@2
  inputs:
    contents: '$(ProjectName)*.nupkg'
    targetFolder: $(Build.ArtifactStagingDirectory)
- task: PublishBuildArtifacts@1
  inputs:
    ArtifactName: 'drop'