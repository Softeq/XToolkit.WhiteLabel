resources:
- repo: self
queue:
  name: Hosted macOS
  demands: Xamarin.iOS

variables:
  BuildConfiguration: 'Release'
steps:
- script: 'msbuild Softeq.XToolkit.Bindings.sln /t:Clean /p:Configuration="Release" /p:Platform="Any CPU"'
- script: 'nuget restore Softeq.XToolkit.Bindings.sln'
- script: 'msbuild Softeq.XToolkit.Bindings.sln /t:Restore /p:Configuration="Release" /p:Platform="Any CPU"'
- script: 'msbuild Softeq.XToolkit.Bindings.sln /p:Configuration="Release" /p:Platform="Any CPU"'
- script: 'nuget pack Softeq.XToolkit.Bindings.nuspec'
- task: CopyFiles@2
  inputs:
    contents: 'Softeq.XToolkit.Bindings*.nupkg'
    targetFolder: $(Build.ArtifactStagingDirectory)
- task: PublishBuildArtifacts@1
  inputs:
    ArtifactName: 'drop'